<div class="d-flex align-items-baseline">
    <div
        class="w-50"
        *ngIf="searchQuery.pos">
        <app-word-filters
            [submitBtn]="true"
            (filterChange)="searchQuery.posFilter = $event"
            (submitFilter)="queryChange.next(searchQuery)">
        </app-word-filters>
    </div>
    <div
        class="w-50"
        *ngIf="!searchQuery.pos">
        <div class="input-group">
            <input
                *ngIf="!searchQuery.pos"
                type="text"
                class="form-control"
                (keyup.enter)="queryChange.next(searchQuery)"
                [(ngModel)]="searchQuery.text"
                placeholder="Search text">
            <div class="input-group-append">
                <fa-icon
                    (click)="queryChange.next(searchQuery)"
                    [icon]="faSearch"
                    class="search-button input-group-text">
                </fa-icon>
            </div>
        </div>
        <div class="d-flex p-1 pt-3">
            <label
                class="mr-2 align-self-center"
                for="texts">
                Sources:
            </label>
            <ng-select
                [items]="texts | async"
                [multiple]="true"
                [closeOnSelect]="false"
                [searchable]="false"
                labelForId="texts"
                [(ngModel)]="searchQuery.texts">
            </ng-select>
        </div>
    </div>
    <div class="w-50 p-3 d-flex justify-content-between">
        <div class="d-flex flex-column">
            <label>Subject:</label>
            <div class="form-check">
                <input
                    type="checkbox"
                    class="form-check-input"
                    [(ngModel)]="searchQuery.alignment"
                    id="alignCheckbox">
                <label
                    class="form-check-label"
                    for="alignCheckbox">
                    Alignment
                </label>
            </div>
            <div class="form-check">
                <input
                    type="checkbox"
                    [(ngModel)]="searchQuery.pos"
                    (ngModelChange)="$event ? 0 : searchQuery.posFilter = undefined"
                    class="form-check-input"
                    id="posCheckbox">
                <label
                    class="form-check-label"
                    for="posCheckbox">
                    POS
                </label>
            </div>
        </div>

        <app-radio
            label="Mode:"
            [initialValue]="searchQuery.index"
            (value)="searchQuery.index = $event"
            [items]="indexes"></app-radio>
        <div class="d-flex flex-column">
            <label>Options:</label>
            <app-switch
                label="Case sensitive"
                [(value)]="searchQuery.caseSensitive"></app-switch>
            <app-switch
                label="Diacritics sensitive"
                [(value)]="searchQuery.diacriticSensitive"></app-switch>
            <app-switch
                label="Exact Match"
                [(value)]="searchQuery.exactMatch"></app-switch>
        </div>
    </div>
</div>
